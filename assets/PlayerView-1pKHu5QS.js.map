{"version":3,"file":"PlayerView-1pKHu5QS.js","sources":["../../src/utils/onboarding.ts","../../src/utils/timestamp.ts"],"sourcesContent":["import { isExtensionActive } from \"@/backend/extension/messaging\";\nimport { conf } from \"@/setup/config\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport { useOnboardingStore } from \"@/stores/onboarding\";\n\nexport async function needsOnboarding(): Promise<boolean> {\n  // if onboarding is dislabed, no onboarding needed\n  if (!conf().HAS_ONBOARDING) return false;\n\n  // if extension is active and working, no onboarding needed\n  const extensionActive = await isExtensionActive();\n  if (extensionActive) return false;\n\n  // if there is any custom proxy urls, no onboarding needed\n  const proxyUrls = useAuthStore.getState().proxySet;\n  if (proxyUrls) return false;\n\n  // if onboarding has been completed, no onboarding needed\n  const completed = useOnboardingStore.getState().completed;\n  if (completed) return false;\n\n  return true;\n}\n","// Convert `t` param to time. Supports having only seconds (like `?t=192`), but also `3:30` or `1:30:02`\nexport function parseTimestamp(str: string | undefined | null): number | null {\n  const input = str ?? \"\";\n  const isValid = !!input.match(/^\\d+(:\\d+)*$/);\n  if (!isValid) return null;\n\n  const timeArr = input.split(\":\").map(Number).reverse();\n  const hours = timeArr[2] ?? 0;\n  const minutes = Math.min(timeArr[1] ?? 0, 59);\n  const seconds = Math.min(timeArr[0] ?? 0, minutes > 0 ? 59 : Infinity);\n\n  const timeInSeconds = hours * 60 * 60 + minutes * 60 + seconds;\n  return timeInSeconds;\n}\n"],"names":["needsOnboarding","completed","conf","HAS_ONBOARDING","isExtensionActive","useAuthStore","getState","proxySet","useOnboardingStore","parseTimestamp","str","input","match","timeArr","split","map","Number","reverse","hours","minutes","Math","min","seconds","Infinity","timeInSeconds"],"mappings":";;;;;;;29NAKA,eAAsBA,IAAoC,CAcpDC,MAZA,GAACC,IAAOC,gBAGY,MAAMC,MAIZC,GAAaC,SAAAA,EAAWC,UAIxBC,GAAmBF,SAAAA,EAAWL,UAIlD,CCrBO,SAASQ,GAAeC,EAA+C,CAC5E,MAAMC,EAAQD,GAAO,GAErB,GAAI,CADY,CAAC,CAACC,EAAMC,MAAM,cAAc,EACvB,OAAA,KAEfC,MAAAA,EAAUF,EAAMG,MAAM,GAAG,EAAEC,IAAIC,MAAM,EAAEC,UACvCC,EAAQL,EAAQ,CAAC,GAAK,EACtBM,EAAUC,KAAKC,IAAIR,EAAQ,CAAC,GAAK,EAAG,EAAE,EACtCS,EAAUF,KAAKC,IAAIR,EAAQ,CAAC,GAAK,EAAGM,EAAU,EAAI,GAAKI,GAAQ,EAG9DC,OADeN,EAAQ,GAAK,GAAKC,EAAU,GAAKG,CAEzD"}